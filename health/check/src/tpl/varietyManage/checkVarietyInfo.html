<div class="org hbox-auto-xs hbox-auto-sm " ng-controller="checkVarietyInfoCtrl">
    <div class="frame-panel">
        <div class="row">
            <div class="col-md-3 mrb-15">
                <h2 class="title-3">新建品种</h2>
            </div>
            <div class="line line-dashed b-b line-lg pull-in"></div>
        </div>
        <div class="row">
            <div class="col-md-12 cnt-col-rt">
                <div class="col-md-2 text-center">
                    <h4>基础信息</h4>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">通用名称<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入通用名" ng-model="Data.generalName">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">商品名称</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4` col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入商品名" ng-model="Data.tradeName">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">生产厂家<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入生产厂商" ng-model="Data.manufacturer">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">厂家简称<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入生产厂商简称" ng-model="Data.manufacturer2">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">药理类别</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请选择药理类别" ng-model="pharmacoTypesText">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">所属企业</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请选择入驻平台上的所属企业" ng-model="Data.companyName">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">品种名称</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12 wordWrap">
                        <label class="control-label">
                            <label ng-if="Data.tradeName">{{Data.tradeName+'.'+Data.generalName}}</label>
                            <label ng-if="!Data.tradeName">{{Data.manufacturer2+'.'+Data.generalName}}</label>
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">助记码</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12 wordWrap">
                        <label class="control-label">
                            {{Data.abbr}}
                        </label>
                    </div>
                </div>
            </div>
            <div class="line line-dashed b-b line-lg pull-in"></div>
        </div>
        <div class="row">
            <div class="col-md-12 cnt-col-rt">
                <div class="col-md-2 text-center">
                    <h4>基本信息</h4>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">品种编码<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control" ng-model="Data.drugFormCode">
                        <em style="position: absolute;right: 20px;bottom: 0px;color: #8c8c8c;">{{Data.drugFormCode.length==null?'0':Data.drugFormCode.length}}/20</em>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">规格<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入生产厂商" ng-model="Data.specification">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">包装规格<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-10 col-xs-12">
                        <td>
                            <input readonly class="form-control" type="text" style="width:33%;display: inline-block" placeholder="数量" ng-model="Data.packNum" ng-blur="checkIsCorrectNum(Data.packNum)" />
                            <select disabled class="form-control" style="display: inline-block;width:31%;padding-left: 1px" ng-model="Data.units">
                                <option value="">选择服药单位</option>
                                <option ng-repeat="mts in AvailDoseList" value="{{mts.id}}">{{mts.name}}</option>
                            </select>
                            <span style="position: absolute;margin-top: 6px;">/</span>
                            <select disabled class="form-control" style="width:31%;display: inline-block;padding-left: 1px;margin-left:2%;position: relative;" ng-model="Data.packUnit">
                                <option value="">选择包装单位</option>
                                <option ng-repeat="l in packUnitList" value="{{l.id}}">{{l.name}}</option>
                            </select>
                        </td>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">规格说明</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" ng-model="Data.specificationCaption">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">批准文号<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请选择入驻平台上的所属企业" ng-model="Data.number">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">批准日期</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <!--<input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请选择入驻平台上的所属企业" ng-model="Data.approvalDate">-->
                        <input type="test" value="{{Data.approvalDate|date:'yyyy-MM-dd'}}" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">剂型<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请选择药理类别" ng-model="Data.formText">
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">是否慢病药品</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-10 col-xs-12">
                        <label class="checkbox i-checks">
                            <input disabled type="checkbox" ng-model="Data.drugType"><i></i>
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">管理类别<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <select disabled class="form-control" ng-model="Data.manageType">
                            <option  ng-repeat="mt in manageTypes" value="{{mt.id}}">{{mt.name}}</option>
                        </select>
                        <!--<input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入通用名" ng-model="Data.manageType">-->
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">产品类别<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <select disabled class="form-control" ng-model="Data.productType">
                            <option ng-repeat="pt in productTypes" value="{{pt.id}}">{{pt.name}}</option>
                        </select>
                        <!--<input type="text" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" placeholder="请输入通用名" ng-model="Data.productType">-->
                    </div>
                </div>
            </div>
            <div class="col-md-12 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-2 text-right">
                        <label class="control-label">适应症</label>
                    </div>
                    <div class="col-sm-9">
                        <input type="text" readonly="readonly" class="form-control ng-pristine ng-untouched ng-valid ng-valid-maxlength" ng-model="Data.indicationsText">
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="row">
                    <div class="col-sm-2 text-right">
                        <label class="control-label">适应症说明<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-sm-9">
                        <textarea readonly placeholder="请输入适应症说明" ng-model="Data.indicationsDes" class="form-control" rows="2"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-12 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-2 text-right">
                        <label class="control-label">品种图片</label>
                    </div>
                    <div class="col-lg-10 col-md-8 col-sm-4 col-xs-12">
                        <div class="col-lg-6">
                            <div class="bg-white text-center ng-File-UpLoad-Bt" style="margin:0;width: 100%;height: 100%">
                                <img ng-src="{{titlePic+'?'+imgFile.percent}}" width="200px" height="100%" ng-show="titlePic">
                                <input readonly="readonly" type="hidden" ng-model="imageUrl" />
                                <i ng-show="!titlePic&&!imgFile.percent" class="fa fa-file-picture-o" style="font-size:80px;line-height:100px;color:#dee5e7;"></i>
                                <i ng-show="!titlePic&&imgFile.percent" style="font-size: 80px;">
                                    {{imgFile.percent}}%
                                </i>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            提示：支持格式类型 *.jpg;*.jpeg;*.png;*.bmp，大小不超过2M
                        </div>
                        <!-- 七牛上传组件 -->
                        <qiniu-uploader token="{{token}}" bucket="group" upload="upload" filters="qiniuFilters" file-list="fileList" max-file-size="2mb" chunk-sizee="1mb" unique-names="true" multi-selection="true" success-call-back="uploaderSuccess" error-call-back="uploaderError" added-call-back="uploaderAdded" progress-call-back="progressCallBack"></qiniu-uploader>
                        <!-- 七牛上传组件 end -->
                    </div>
                </div>
            </div>
            <div class="line line-dashed b-b line-lg pull-in"></div>
        </div>
        <div class="row">
            <div class="col-md-12 cnt-col-rt">
                <div class="col-md-2 text-center">
                    <h4>用法说明</h4>
                </div>
            </div>
            <div class="col-md-12">
                <div class="row">
                    <div class="col-sm-2 text-right">
                        <label class="control-label">常规用法说明<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-sm-9">
                        <textarea readonly placeholder="请输入常规用法说明" ng-model="Data.generalUsageDes" class="form-control" rows="2"></textarea>
                    </div>
                </div>
            </div>
            <div class="col-md-12 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-2 text-right">
                        <label class="control-label">用法用量<span class="necsr-Item">*</span></label>
                    </div>
                    <div class="col-lg-9 col-md-8 col-sm-4 col-xs-12">
                        <table class="table">
                            <thead>
                            <tr>
                                <th>适用群体</th>
                                <th>用法</th>
                                <th>用量</th>
                                <th>备注说明</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="dItem in Data.drugUsegeList track by $index">
                                <td>
                                    <input type="text" style="width:80px;display: inline-block" class="form-control" ng-model="dItem.patients" placeholder="如年龄段、病种、体重等..." ng-required="true" disabled="disabled" />
                                </td>
                                <td>
                                    每
                                    <input class="form-control" type="number" style="width:80px;display: inline-block" placeholder="数量" ng-model="dItem.periodNum" disabled="disabled" />
                                    <select class="form-control" style="display: inline-block;width:80px;padding-left: 1px" ng-model="dItem.periodTime" disabled="disabled">
                                        <option value="">单位</option>
                                        <option value="天">天</option>
                                        <option value="周">周</option>
                                        <option value="月">月</option>
                                        <option value="年">年</option>
                                    </select>
                                    <select class="form-control" style="width:80px;display: inline-block" ng-model="dItem.times" disabled="disabled">
                                        <option value="">数量</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                    </select>次
                                </td>
                                <td>
                                    每次
                                    <input class="form-control" type="number" value="{{dItem.quantity}}" style="display:inline-block;width:80px" ng-model="dItem.quantity" placeholder="数量" disabled="disabled" />
                                    <!--     <select class="form-control" ng-model="dItem.unit" style="display:inline-block;width:50px" disabled="disabled"> -->
                                    <select class="form-control" ng-model="dItem.unit" ng-options="mts.id as mts.name for mts in AvailDoseList" style="display:inline-block;width:80px" disabled="disabled">
                                        <option ng-repeat="mts in AvailDoseList" value="{{mts.id}}">{{mts.name}}</option>
                                    </select>
                                </td>
                                <td>
                                    <input class="form-control" type="text" ng-model="dItem.method" placeholder="补充说明，如口服，咀嚼等.." disabled="disabled" />
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-12 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-2 text-right">
                        <label class="control-label">说明书</label>
                    </div>
                    <div class="col-lg-9 col-md-8 col-sm-4 col-xs-12">
                        <div class="col-sm-10">
                            <!-- 百度富文本编辑器（含七牛上传） -->
                            <!--<ng-umeditor readonly="readonly" class="block w-full" token="{{token}}" content="Data.manual"></ng-umeditor>-->
                            <div ng-bind-html="Data.manual" class="b b-grey form-control" style="min-height:300px;overflow: auto;">
                        </div>
                    </div>
                </div>
            </div>
            <div class="line line-dashed b-b line-lg pull-in"></div>
        </div>
        <div class="row">
            <div class="col-md-12 cnt-col-rt">
                <div class="col-md-2 text-center">
                    <h4>其他信息</h4>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">审核状态</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <label class="control-label">
                            <span ng-switch="Data.stateAudit">
                            <span ng-switch-when="1">未审核</span>
                            <span ng-switch-when="2">审核通过</span>
                            <span ng-switch-when="3">审核不通过</span>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">&nbsp;</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <label class="control-label"></label>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">创建时间</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <label class="control-label"> {{Data.createdDate | date:'yyyy-MM-dd HH:mm:ss'}}</label>
                    </div>
                </div>
            </div>
            <div class="col-md-6 cnt-col-rt">
                <div class="row m-t-sm">
                    <div class="col-sm-4 text-right">
                        <label class="control-label">提交审核时间</label>
                    </div>
                    <div class="col-lg-6 col-md-8 col-sm-4 col-xs-12">
                        <label class="control-label"> {{Data.submitCheckDate | date:'yyyy-MM-dd HH:mm:ss'}}</label>
                    </div>
                </div>
            </div>
            <div class="col-md-12 cnt-col-rt">
                <div class="col-md-2 text-center">
                    <h4>审核操作</h4>
                </div>
            </div>
            <div class="row m-t-sm">
                <div class="col-sm-2"></div>
                <div class="col-sm-9 text-left">
                    <div class="radio">
                        <label class="i-checks" ng-click="selected = 1">
                            <input type="radio" name="radio"  class="ng-valid ng-dirty ng-touched" value="true">
                            <i></i> 审核通过
                        </label>
                    </div><p></p>
                    <div>
                        <div class="radio">
                            <label class="i-checks" ng-click="selected = 2">
                                <input type="radio" name="radio" class="ng-valid ng-dirty ng-touched" value="true">
                                <i></i> 审核不通过
                            </label>
                            <input ng-show="selected==2" type="text" class="form-control m-t-sm" placeholder="请输入审核不通过原因" ng-model="comment" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="line line-dashed b-b line-lg pull-in"></div>
        <div class="form-group text-center">
            <button class="btn m-b-xs w-xs btn-success" ng-disabled="!selected" ng-click="CheckStatus()">提交审核</button>
            <button class="btn m-b-xs w-xs btn-primary" ng-click="GoBack()">返回</button>
        </div>
    </div>
    <script type="text/ng-template" id="myModalCompany.html">
        <div class="modal-header">
            <h3 class="modal-title">请审核</h3>
        </div>
        <div class="modal-body">
            <label ng-click="selected.item = 1">
                <input type="radio" name="radio" />审核通过</label>
            <label ng-click="selected.item = 2">
                <input type="radio" name="radio" />审核不通过</label>
            <div class="form-group text-left" ng-if="selected.item==2">
                <input type="text" class="form-control " placeholder="请输入审核不通过原因" style="width:300px" ng-model="comment" />
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="modalOk()">确定</button>
            <button class="btn btn-warning" ng-click="modalCancel()">取消</button>
        </div>
    </script>
</div>
