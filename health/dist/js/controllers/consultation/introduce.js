app.controller("IntroCtrl",function($scope,$http,$location,$state,$stateParams,toaster){function getOpenStatus(){$http.post(app.url.consult.getOpenConsultation,{access_token:app.url.access_token,groupId:curGroupId}).success(function(data,status,headers,config){1==data.resultCode?1==data.data&&$state.go("app.consultation.list"):console.log(data.resultMsg)}).error(function(data,status,headers,config){alert(data.resultMsg)})}var curGroupId=localStorage.getItem("curGroupId");getOpenStatus(),$scope.open=function(){$http.post(app.url.consult.openService,{access_token:app.url.access_token,groupId:curGroupId}).success(function(data,status,headers,config){1==data.resultCode?$state.go("app.consultation.list"):toaster.pop("error",null,data.resultMsg)}).error(function(data,status,headers,config){toaster.pop("error",null,data.resultMsg)})}});