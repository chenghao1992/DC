app.controller("PublicMsgListCtrl",function($scope,$http,$state,$rootScope){var curGroupId=localStorage.getItem("curGroupId"),getPublicMsgList=function(){$http.post(app.url.pubMsg.getPubListByMid,{access_token:app.url.access_token,mid:curGroupId}).success(function(data,status,headers,config){1==data.resultCode?$scope.pub_msg_list=data.data:console.log(data.resultMsg)}).error(function(data,status,headers,config){console.log(data.resultMsg)})};getPublicMsgList(),$scope.toManage=function(item){localStorage.removeItem("curPubMsg"),localStorage.setItem("curPubMsg",JSON.stringify(item)),"pub_1"==item.rtype?localStorage.setItem("curNameType","患者动态"):localStorage.setItem("curNameType","医院动态"),$state.go("app.public_msg.group.msg_manage.send_msg",{id:item.pid})}});