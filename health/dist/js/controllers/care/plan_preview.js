"use strict";app.controller("PlanPreviewCtrl",function($rootScope,$scope,$state,$http,$compile,utils,$modal,toaster,$stateParams){$http.post(app.yiliao+"pack/care/queryCareTemplateDetail",{access_token:app.url.access_token,templateId:$stateParams.planId}).then(function(rpn){1===rpn.data.resultCode?($scope.planData=rpn.data.data,console.log($scope.planData)):toaster.pop("error",null,"获取失败")}),$scope.tabNbr=1,$scope.tebChange=function(tabNbr){$scope.tabNbr=tabNbr},$scope.editor=function(){$state.go("app.new_plan",{planId:$stateParams.planId})},$scope["delete"]=function(){$http.post(app.yiliao+"pack/care/delCareTemplate",{access_token:app.url.access_token,templateId:$stateParams.planId}).then(function(rpn){console.log(rpn.data),1===rpn.data.resultCode?(toaster.pop("success",null,"删除成功"),$state.go("app.care_plan.list")):toaster.pop("error",null,"删除失败")})},$scope.back=function(){$state.go("app.care_plan.list")}});