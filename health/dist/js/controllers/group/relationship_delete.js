"use strict";app.controller("RelationshipDelete",function($scope,$state,$http,utils,modal){var container=$("#dialog_container"),groupId=utils.localData("curGroupId");$scope.viewData={},$scope.viewData.name=$scope.targetDoctorName;var doIt=function(){$http({url:app.url.yiliao.deleteRelation,method:"post",data:{access_token:app.url.access_token,groupId:groupId,id:$scope.targetDoctorId}}).then(function(resp){1===resp.data.resultCode?$state.go("app.relationship.list",{},{reload:!0}):(console.warn("删除失败！"),modal.toast.error(resp.data.resultMsg))},function(x){console.error(x.statusText)})};$scope["do"]=function(){doIt()},$scope.cancel=function(){container.prev().remove(),container.remove(),window.history.back()}});